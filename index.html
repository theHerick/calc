<button id="scanBtn">Procurar Beacon</button>
<div id="status"></div>

<script>
  const BEACON_NAME = "LocSoundBeacon";

  document.getElementById('scanBtn').addEventListener('click', async () => {
    if (!navigator.bluetooth) {
      alert("Seu navegador não suporta Web Bluetooth");
      return;
    }

    try {
      const device = await navigator.bluetooth.requestDevice({
        filters: [{ name: BEACON_NAME }],
        optionalServices: []
      });
      
      document.getElementById('status').textContent = `Dispositivo encontrado: ${device.name}`;
      
      // Se quiser conectar e pegar RSSI, teria que conectar e usar APIs específicas, que podem não estar disponíveis
      
    } catch (error) {
      document.getElementById('status').textContent = "Erro: " + error;
    }
  });
</script>
